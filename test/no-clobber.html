<!DOCTYPE html>
<div id="root"><div>before</div></div>
<script type="module">
  import { test, assert } from "./lib.js";
  import { Root, html } from "../html.js";

  test(() => {
    const r = Root.appendInto(root);

    r.render(html`<h1>Hello, world!</h1>`);
    assert.eq(root.innerHTML, "<div>before</div><h1>Hello, world!</h1>");

    root.insertAdjacentHTML("beforeend", "<div>after</div>");
    r.render(html`<h2>Goodbye, world!</h2>`);
    assert.eq(
      root.innerHTML,
      "<div>before</div><h2>Goodbye, world!</h2><div>after</div>"
    );

    r.render(html``);
    assert.eq(root.innerHTML, "<div>before</div><div>after</div>");

    r.render(html`<h1>Hello, world!</h1>`);
    assert.eq(
      root.innerHTML,
      "<div>before</div><h1>Hello, world!</h1><div>after</div>"
    );
  });
</script>
